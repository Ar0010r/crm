(self.webpackChunk=self.webpackChunk||[]).push([[107],{1698:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(5166);const r={class:"w-lg-100 d-flex justify-content-center mt-lg-5"},a=(0,n.createVNode)("h3",null,"No data found",-1);const l={render:function(e,t,o,l,c,s){return(0,n.openBlock)(),(0,n.createBlock)("div",r,[a])}},c=l},2107:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>Xe});var n=o(5166);const r={class:"container-fluid flex-grow-1 container-p-y"},a=(0,n.createVNode)("h4",{class:"font-weight-bold py-3 mb-4"}," Tests ",-1);const l=(0,n.createVNode)("tr",null,[(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Date"),(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Tester"),(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Env"),(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Template"),(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Google"),(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Outlook"),(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Yahoo"),(0,n.createVNode)("th",{class:"text-left font-weight-bold"},"Actions")],-1);const c={render:function(e,t,o,r,a,c){return(0,n.openBlock)(),(0,n.createBlock)("thead",null,[l])}},s=c,i={class:"d-flex mb-3 mt-2"},d=(0,n.createVNode)("button",{class:"btn btn-secondary",type:"button",title:"Refresh"},[(0,n.createVNode)("i",{class:"opacity-75 ion ion-md-refresh icon-refresh"})],-1),u=(0,n.createVNode)("option",{value:"",selected:""},"Manager",-1),m=(0,n.createVNode)("option",{value:"",selected:""},"Company",-1),p=(0,n.createVNode)("option",{value:"",selected:""},"Env",-1),f=(0,n.createVNode)("option",{value:"",selected:""},"Template",-1);var v=o(7757),g=o.n(v),h=o(6564);function b(e,t,o,n,r,a,l){try{var c=e[a](l),s=c.value}catch(e){return void o(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function y(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var a=e.apply(t,o);function l(e){b(a,n,r,l,c,"next",e)}function c(e){b(a,n,r,l,c,"throw",e)}l(void 0)}))}}const k={setup:function(){var e=(0,h.oR)(),t=(0,n.inject)("emitter"),o=(0,n.computed)((function(){return e.getters.getTestQueryParams}));function r(){return(r=y(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.commit("test/setQueryParam",{key:"take",value:o.value.take}),e.commit("test/setQueryParam",{key:"company_id",value:o.value.company_id}),e.commit("test/setQueryParam",{key:"manager_id",value:o.value.manager_id}),e.commit("test/setQueryParam",{key:"env",value:o.value.env}),e.commit("test/setQueryParam",{key:"template",value:o.value.template}),t.next=7,a();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function a(){return l.apply(this,arguments)}function l(){return(l=y(g().mark((function t(){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},["company_id","manager_id","env","template","page","take"].map((function(e){o.value[e]&&(n[e]=o.value[e])})),t.next=4,e.dispatch("test/setTestsToStore",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,n.watch)((function(){return o}),(function(e,t){return function(){return r.apply(this,arguments)}()}),{deep:!0}),{activeFilters:o,profile:(0,n.computed)((function(){return e.getters.getProfile})),companies:(0,n.computed)((function(){return e.getters.getCompanies})),managers:(0,n.computed)((function(){return e.getters.getUsers})),envs:(0,n.computed)((function(){return e.getters.getEnvs})),templates:(0,n.computed)((function(){return e.getters.getTemplates})),initializeTestStoreForm:function(){return t.emit("create-test-form")},refresh:function(){return e.dispatch("test/setTestsToStore")}}},render:function(e,t,o,r,a,l){return(0,n.openBlock)(),(0,n.createBlock)("div",i,[d,(0,n.createVNode)("button",{class:"btn btn-primary btn ml-2","data-toggle":"modal",onClick:t[1]||(t[1]=(...e)=>r.initializeTestStoreForm(...e)),"data-target":"#addTestForm"},"Add test "),"admin"===r.profile.role||"top hr"===r.profile.role?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("select",{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>r.activeFilters.manager_id=e),class:"custom-select form-control ml-2 col-sm-2 col-1"},[u,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(r.managers,(e=>((0,n.openBlock)(),(0,n.createBlock)("option",{value:e.id},(0,n.toDisplayString)(e.login),9,["value"])))),256))],512)),[[n.vModelSelect,r.activeFilters.manager_id]]):(0,n.createCommentVNode)("",!0),(0,n.withDirectives)((0,n.createVNode)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.activeFilters.company_id=e),class:"custom-select form-control ml-2 col-sm-2"},[m,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(r.companies,(e=>((0,n.openBlock)(),(0,n.createBlock)("option",{value:e.id},(0,n.toDisplayString)(e.name),9,["value"])))),256))],512),[[n.vModelSelect,r.activeFilters.company_id]]),(0,n.withDirectives)((0,n.createVNode)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.activeFilters.env=e),class:"custom-select form-control ml-2 col-sm-2"},[p,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(r.envs,(e=>((0,n.openBlock)(),(0,n.createBlock)("option",{value:e},(0,n.toDisplayString)(e),9,["value"])))),256))],512),[[n.vModelSelect,r.activeFilters.env]]),(0,n.withDirectives)((0,n.createVNode)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.activeFilters.template=e),class:"custom-select form-control ml-2 col-sm-2"},[f,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(r.templates,(e=>((0,n.openBlock)(),(0,n.createBlock)("option",{value:e},(0,n.toDisplayString)(e),9,["value"])))),256))],512),[[n.vModelSelect,r.activeFilters.template]])])}},V=k,N={class:"odd gradeX"},w={class:"d-flex  justify-content-between align-items-center "};function B(e,t,o,n,r,a,l){try{var c=e[a](l),s=c.value}catch(e){return void o(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function T(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var a=e.apply(t,o);function l(e){B(a,n,r,l,c,"next",e)}function c(e){B(a,n,r,l,c,"throw",e)}l(void 0)}))}}const x={setup:function(e){var t=(0,h.oR)(),o=(0,n.inject)("emitter"),r=(0,n.inject)("container"),a=((0,n.computed)((function(){return t.getters.getProfile})),"delete-test-"+e.test.id);function l(){return(l=T(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={message:i(),event_id:a,action:"deleted"},o.emit("show-delete-modal",t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return s.apply(this,arguments)}function s(){return(s=T(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.TestService.delete(e.test);case 3:o.emit("notification-success"," test "+e.test.name+" was deleted"),t.dispatch("test/deleteTest",e.test),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),o.emit("notification-error",n.t0.response.data);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function i(){return"You want to delete test from: <strong>"+e.test.date+"</strong>"}return o.on(a,c),(0,n.onBeforeUnmount)((function(){return o.off(a,c)})),{deleteWarning:function(){return l.apply(this,arguments)},deleteEventId:a}},props:{test:Object},render:function(e,t,o,r,a,l){return(0,n.openBlock)(),(0,n.createBlock)("button",{"data-toggle":"modal","data-target":"#deleteForm",onClick:t[1]||(t[1]=(...e)=>r.deleteWarning(...e)),type:"button",class:"ion ion-md-trash danger border-0"})}},F={"data-toggle":"modal","data-target":"#editTestForm"};const j={setup:function(e){var t=(0,n.inject)("emitter");(0,h.oR)();return{showEditTestForm:function(){return t.emit("edit-test-form",e.test)}}},props:{test:Object},render:function(e,t,o,r,a,l){return(0,n.openBlock)(),(0,n.createBlock)("a",F,[(0,n.createVNode)("button",{type:"button",class:"ion ion-md-cog p-0 bg-transparent border-0","data-toggle":"tooltip","data-target":"#editTestForm","data-placement":"right",title:"Edit",onClick:t[1]||(t[1]=(...e)=>r.showEditTestForm(...e))})])}},O={props:{test:Object},components:{DeleteButton:x,EditButton:j},render:function(e,t,o,r,a,l){const c=(0,n.resolveComponent)("EditButton"),s=(0,n.resolveComponent)("DeleteButton");return(0,n.openBlock)(),(0,n.createBlock)("tr",N,[(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.test.date),1),(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.test.manager.login),1),(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.test.env),1),(0,n.createVNode)("td",null,(0,n.toDisplayString)(o.test.template),1),((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(["google","outlook","yahoo"],(e=>(0,n.createVNode)("td",null,[null!=o.test[e]?((0,n.openBlock)(),(0,n.createBlock)("span",{key:0,class:["badge",o.test[e]?"badge-outline-success":"badge-outline-danger"]},(0,n.toDisplayString)(o.test[e]?"inbox":"spam"),3)):(0,n.createCommentVNode)("",!0)]))),64)),(0,n.createVNode)("td",null,[(0,n.createVNode)("div",w,[(0,n.createVNode)(c,{test:o.test},null,8,["test"]),(0,n.createVNode)(s,{test:o.test},null,8,["test"])])])])}},C={class:"datatables-demo table table-striped table-bordered"};const S={props:{tests:Array},components:{TestsTableHead:s,TestsTableRow:O},render:function(e,t,o,r,a,l){const c=(0,n.resolveComponent)("TestsTableHead"),s=(0,n.resolveComponent)("TestsTableRow");return(0,n.openBlock)(),(0,n.createBlock)("table",C,[(0,n.createVNode)(c),(0,n.createVNode)("tbody",null,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.tests,(e=>((0,n.openBlock)(),(0,n.createBlock)(s,{test:e,key:e.id+e.name},null,8,["test"])))),128))])])}};const D={setup:function(){var e=(0,h.oR)();return{tests:(0,n.computed)((function(){return t=e.getters.getTests,o={},Object.keys(t).forEach((function(e){var n=t[e];o[n.company_id]||(o[n.company_id]={company:n.company.name,results:[]}),o[n.company_id].results.push(n)})),o;var t,o}))}},components:{TestsTableHead:s,TestsTableRow:O,TestsRecord:S,NoRecords:o(1698).Z,Control:V},render:function(e,t,o,l,c,s){const i=(0,n.resolveComponent)("Control"),d=(0,n.resolveComponent)("TestsRecord"),u=(0,n.resolveComponent)("NoRecords");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[a,(0,n.createVNode)(i),Object.keys(l.tests).length>0?((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,{key:0},(0,n.renderList)(l.tests,(e=>((0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)("h3",null,(0,n.toDisplayString)(e.company),1),(0,n.createVNode)("div",null,[(0,n.createVNode)(d,{class:"col-7",tests:e.results},null,8,["tests"])])])))),256)):((0,n.openBlock)(),(0,n.createBlock)(u,{key:1}))])}},P=D,U={class:"modal fade",id:"addTestForm"},E={class:"modal-dialog"},_={class:"modal-content"},R=(0,n.createVNode)("div",{class:"modal-header"},[(0,n.createVNode)("h5",{class:"modal-title"}," Add test "),(0,n.createVNode)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},"×")],-1),M={class:"modal-body"},I={class:"modal-footer"},L=(0,n.createVNode)("button",{id:"storeTestFormClose",type:"button",class:"btn btn-default","data-dismiss":"modal"}," Close ",-1);const $={class:"form-row mb-2"},Q={class:"form-group col mb-0 d-flex align-items-center justify-content-between flex-wrap"},Z=(0,n.createVNode)("label",{class:"form-label col-md-2"},"Company ",-1),A=(0,n.createVNode)("option",{disabled:"",selected:"",value:null}," -- select company --",-1),q=(0,n.createVNode)("small",{class:"col-md-12 invalid-feedback text-right p-0"},"please select a company",-1),Y={class:"form-row mb-2"},H={class:"form-group col mb-0 d-flex align-items-center justify-content-between flex-wrap"},W=(0,n.createVNode)("label",{class:"form-label col-md-2"},"Env",-1),z=(0,n.createVNode)("option",{disabled:"",selected:"",value:null}," -- select env --",-1),G=(0,n.createVNode)("small",{class:"col-md-12 invalid-feedback text-right p-0"},"please select an environment",-1),X={class:"form-row mb-2"},J={class:"form-group col mb-0 d-flex align-items-center justify-content-between flex-wrap"},K=(0,n.createVNode)("label",{class:"form-label col-md-2"},"Template ",-1),ee=(0,n.createVNode)("option",{disabled:"",selected:"",value:null}," -- select template --",-1),te=(0,n.createVNode)("small",{class:"col-md-12 invalid-feedback text-right p-0"},"please select a template",-1),oe={class:"form-row mb-2"},ne={class:"form-group col mb-0 d-flex align-items-center justify-content-between flex-wrap"},re=(0,n.createVNode)("label",{class:"form-label col-md-2"},"Google ",-1),ae=(0,n.createVNode)("option",{disabled:"",selected:"",value:null}," -- select result --",-1),le=(0,n.createVNode)("option",{value:"1"}," Inbox",-1),ce=(0,n.createVNode)("option",{value:"0"}," Spam",-1),se={class:"form-row mb-2"},ie={class:"form-group col mb-0 d-flex align-items-center justify-content-between flex-wrap"},de=(0,n.createVNode)("label",{class:"form-label col-md-2"},"Outlook",-1),ue=(0,n.createVNode)("option",{disabled:"",selected:"",value:null}," -- select result --",-1),me=(0,n.createVNode)("option",{value:"1"}," Inbox",-1),pe=(0,n.createVNode)("option",{value:"0"}," Spam",-1),fe={class:"form-row mb-2"},ve={class:"form-group col mb-0 d-flex align-items-center justify-content-between flex-wrap"},ge=(0,n.createVNode)("label",{class:"form-label col-md-2"},"Yahoo",-1),he=(0,n.createVNode)("option",{disabled:"",selected:"",value:null}," -- select result --",-1),be=(0,n.createVNode)("option",{value:"1"}," Inbox",-1),ye=(0,n.createVNode)("option",{value:"0"}," Spam",-1),ke={class:"form-row mb-2"},Ve={class:"form-group col mb-0 d-flex align-items-center justify-content-between flex-wrap"},Ne=(0,n.createVNode)("label",{class:"form-label col-md-2"},"Date",-1),we={class:" col-md-12 invalid-feedback text-right p-0"};var Be=o(2954),Te=o(7561);function xe(e,t,o,n,r,a,l){try{var c=e[a](l),s=c.value}catch(e){return void o(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function Fe(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var a=e.apply(t,o);function l(e){xe(a,n,r,l,c,"next",e)}function c(e){xe(a,n,r,l,c,"throw",e)}l(void 0)}))}}const je={setup:function(e){var t=(0,h.oR)(),o=(0,n.inject)("emitter"),r=Te.Ry({company:Te.Z_().nullable().required(),env:Te.Z_().nullable().required(),template:Te.Z_().nullable().required(),google:Te.O7().nullable(),outlook:Te.O7().nullable(),yahoo:Te.O7().nullable(),date:Te.Z_().nullable().matches("^((?:19|20)[0-9][0-9])-(0[1-9]|1[012])-([12][0-9]|3[01]|0[1-9])$","valid date format is yyyy-mm-dd")}),a=(0,Be.cI)({validationSchema:r.nullable()}),l=a.errors,c=a.validate,s=(0,Be.U$)("company",{value:(0,n.computed)((function(){return e.test.company_id}))}),i=(0,Be.U$)("env",{value:(0,n.computed)((function(){return e.test.env}))}),d=(0,Be.U$)("template",{value:(0,n.computed)((function(){return e.test.template}))}),u=(0,Be.U$)("google",{value:(0,n.computed)((function(){return e.test.google}))}),m=(0,Be.U$)("outlook",{value:(0,n.computed)((function(){return e.test.outlook}))}),p=(0,Be.U$)("yahoo",{value:(0,n.computed)((function(){return e.test.yahoo}))}),f=(0,Be.U$)("date",{value:(0,n.computed)((function(){return e.test.date}))}),v=[{field:s,name:"company_id"},{field:i,name:"env"},{field:d,name:"template"},{field:u,name:"google"},{field:m,name:"outlook"},{field:p,name:"yahoo"},{field:f,name:"date"}],b=(0,Be.W6)();function y(){return(y=Fe(g().mark((function t(){var o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.forEach((function(t){t.field.meta.dirty=!0,t.field.meta.touched=!0,t.field.value.value=e.test[t.name]})),t.next=3,c();case 3:if((o=t.sent).valid){t.next=6;break}throw{message:"Please fix form errors:",errors:Object.keys(o.errors).map((function(e){return[o.errors[e]]}))};case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(){v.forEach((function(t){return t.field.value.value=e.test[t.name]}))}return o.on("edit-test-form",k),o.on("create-test-form",(function(){b();var t=new Date,o=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();o<10&&(o="0"+o),n<10&&(n="0"+n),e.test.date=r+"-"+n+"-"+o,console.log(f.value.value)})),(0,n.onBeforeUnmount)((function(){o.off("edit-test-form",k),o.off("create-test-form",b)})),{company:s,env:i,template:d,google:u,outlook:m,yahoo:p,date:f,errors:l,validate:function(){return y.apply(this,arguments)},companies:(0,n.computed)((function(){return t.getters.getCompanies})),envs:(0,n.computed)((function(){return t.getters.getEnvs})),templates:(0,n.computed)((function(){return t.getters.getTemplates}))}},props:{test:Object},components:{Form:Be.l0,Field:Be.gN},render:function(e,t,o,r,a,l){return(0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[(0,n.createVNode)("div",$,[(0,n.createVNode)("div",Q,[Z,(0,n.withDirectives)((0,n.createVNode)("select",{class:["custom-select form-control form-control-sm col-md-10",{"is-invalid":!r.company.meta.valid&&r.company.meta.touched}],name:"company","onUpdate:modelValue":t[1]||(t[1]=e=>o.test.company_id=e),onFocus:t[2]||(t[2]=e=>r.company.meta.touched=!1),onChange:t[3]||(t[3]=(...e)=>r.company.handleChange(...e)),onBlur:t[4]||(t[4]=(...e)=>r.company.handleBlur(...e))},[A,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(r.companies,(e=>((0,n.openBlock)(),(0,n.createBlock)("option",{value:e.id,selected:e.id===o.test.company_id},(0,n.toDisplayString)(e.name),9,["value","selected"])))),256))],34),[[n.vModelSelect,o.test.company_id]]),q])]),(0,n.createVNode)("div",Y,[(0,n.createVNode)("div",H,[W,(0,n.withDirectives)((0,n.createVNode)("select",{class:["custom-select form-control form-control-sm col-md-10",{"is-invalid":!r.env.meta.valid&&r.env.meta.touched}],name:"role","onUpdate:modelValue":t[5]||(t[5]=e=>o.test.env=e),onFocus:t[6]||(t[6]=e=>r.env.meta.touched=!1),onChange:t[7]||(t[7]=(...e)=>r.env.handleChange(...e)),onBlur:t[8]||(t[8]=(...e)=>r.env.handleBlur(...e))},[z,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(r.envs,(e=>((0,n.openBlock)(),(0,n.createBlock)("option",{selected:o.test.env===e},(0,n.toDisplayString)(e),9,["selected"])))),256))],34),[[n.vModelSelect,o.test.env]]),G])]),(0,n.createVNode)("div",X,[(0,n.createVNode)("div",J,[K,(0,n.withDirectives)((0,n.createVNode)("select",{class:["custom-select form-control form-control-sm col-md-10",{"is-invalid":!r.template.meta.valid&&r.template.meta.touched}],name:"role","onUpdate:modelValue":t[9]||(t[9]=e=>o.test.template=e),onFocus:t[10]||(t[10]=e=>r.template.meta.touched=!1),onChange:t[11]||(t[11]=(...e)=>r.template.handleChange(...e)),onBlur:t[12]||(t[12]=(...e)=>r.template.handleBlur(...e))},[ee,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(r.templates,(e=>((0,n.openBlock)(),(0,n.createBlock)("option",{selected:o.test.template===e},(0,n.toDisplayString)(e),9,["selected"])))),256))],34),[[n.vModelSelect,o.test.template]]),te])]),(0,n.createVNode)("div",oe,[(0,n.createVNode)("div",ne,[re,(0,n.withDirectives)((0,n.createVNode)("select",{class:["custom-select form-control form-control-sm col-md-10",{"is-invalid":!r.google.meta.valid&&r.google.meta.touched}],name:"google","onUpdate:modelValue":t[13]||(t[13]=e=>o.test.google=e),onFocus:t[14]||(t[14]=e=>r.google.meta.touched=!1),onChange:t[15]||(t[15]=(...e)=>r.google.handleChange(...e)),onBlur:t[16]||(t[16]=(...e)=>r.google.handleBlur(...e))},[ae,le,ce],34),[[n.vModelSelect,o.test.google]])])]),(0,n.createVNode)("div",se,[(0,n.createVNode)("div",ie,[de,(0,n.withDirectives)((0,n.createVNode)("select",{class:["custom-select form-control form-control-sm col-md-10",{"is-invalid":!r.outlook.meta.valid&&r.outlook.meta.touched}],name:"google","onUpdate:modelValue":t[17]||(t[17]=e=>o.test.outlook=e),onFocus:t[18]||(t[18]=e=>r.outlook.meta.touched=!1),onChange:t[19]||(t[19]=(...e)=>r.outlook.handleChange(...e)),onBlur:t[20]||(t[20]=(...e)=>r.outlook.handleBlur(...e))},[ue,me,pe],34),[[n.vModelSelect,o.test.outlook]])])]),(0,n.createVNode)("div",fe,[(0,n.createVNode)("div",ve,[ge,(0,n.withDirectives)((0,n.createVNode)("select",{class:["custom-select form-control form-control-sm col-md-10",{"is-invalid":!r.yahoo.meta.valid&&r.yahoo.meta.touched}],name:"google","onUpdate:modelValue":t[21]||(t[21]=e=>o.test.yahoo=e),onFocus:t[22]||(t[22]=e=>r.yahoo.meta.touched=!1),onChange:t[23]||(t[23]=(...e)=>r.yahoo.handleChange(...e)),onBlur:t[24]||(t[24]=(...e)=>r.yahoo.handleBlur(...e))},[he,be,ye],34),[[n.vModelSelect,o.test.yahoo]])])]),(0,n.createVNode)("div",ke,[(0,n.createVNode)("div",Ve,[Ne,(0,n.withDirectives)((0,n.createVNode)("input",{class:["form-control col-md-10",{"is-invalid":!r.date.meta.valid&&r.date.meta.touched}],type:"text",placeholder:"Date",name:"received_at","onUpdate:modelValue":t[25]||(t[25]=e=>o.test.date=e),onFocus:t[26]||(t[26]=e=>r.date.meta.touched=!1),onInput:t[27]||(t[27]=(...e)=>r.date.handleChange(...e)),onBlur:t[28]||(t[28]=(...e)=>r.date.handleBlur(...e))},null,34),[[n.vModelText,o.test.date]]),(0,n.createVNode)("small",we,(0,n.toDisplayString)(r.errors.date||"received_at is required"),1)])])],64)}},Oe=je;function Ce(e,t,o,n,r,a,l){try{var c=e[a](l),s=c.value}catch(e){return void o(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function Se(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var a=e.apply(t,o);function l(e){Ce(a,n,r,l,c,"next",e)}function c(e){Ce(a,n,r,l,c,"throw",e)}l(void 0)}))}}function De(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Pe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?De(Object(o),!0).forEach((function(t){Ue(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):De(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Ue(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Ee={setup:function(){var e=(0,h.oR)(),t=(0,n.inject)("container"),o=(0,n.inject)("emitter"),r=(0,n.ref)(null),a=(0,n.computed)((function(){return e.getters.getProfile})),l=((0,n.computed)((function(){return e.getters.getUsers})),Pe({},e.getters.getEmptyTest));"personnel"!==a.value.role&&"hr"!==a.value.role||(l.manager_id=a.id),"personnel"===a.value.role&&(l.type=0),"hr"===a.value.role&&(l.type=1);var c=(0,n.reactive)(Pe({},l));function s(){return(s=Se(g().mark((function n(a){var l,c;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.value.validate();case 3:return n.next=5,t.TestService.store(a);case 5:l=n.sent,c=l.data.model,console.log("storedTest",c),e.commit("test/setTestById",c),document.getElementById("storeTestFormClose").click(),o.emit("notification-success","test was created"),i(),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),n.t0.response.data&&o.emit("notification-error",n.t0.response.data);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})))).apply(this,arguments)}function i(){Object.keys(l).forEach((function(e){return c[e]=l[e]})),c.manager_id=a.value.id,c.manager=a.value,console.log(c.manager.login)}return o.on("create-test-form",i),(0,n.onBeforeUnmount)((function(){return o.off("create-test-form",i)})),{storeTest:function(e){return s.apply(this,arguments)},test:c,testFields:r}},components:{TestFormFields:Oe},render:function(e,t,o,r,a,l){const c=(0,n.resolveComponent)("TestFormFields");return(0,n.openBlock)(),(0,n.createBlock)("div",U,[(0,n.createVNode)("div",E,[(0,n.createVNode)("form",_,[R,(0,n.createVNode)("div",M,[(0,n.createVNode)(c,{ref:"testFields",test:r.test},null,8,["test"])]),(0,n.createVNode)("div",I,[L,(0,n.createVNode)("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=e=>r.storeTest(r.test))},"Add ")])])])])}},_e=Ee,Re={class:"modal fade",id:"editTestForm"},Me={class:"modal-dialog"},Ie={class:"modal-content"},Le=(0,n.createVNode)("div",{class:"modal-header"},[(0,n.createVNode)("h5",{class:"modal-title"},"Edit test"),(0,n.createVNode)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},"×")],-1),$e={class:"modal-body"},Qe={class:"modal-footer"},Ze=(0,n.createVNode)("button",{id:"editTestFormClose",type:"button",class:"btn btn-default","data-dismiss":"modal"},"Close ",-1);function Ae(e,t,o,n,r,a,l){try{var c=e[a](l),s=c.value}catch(e){return void o(e)}c.done?t(s):Promise.resolve(s).then(n,r)}function qe(e){return function(){var t=this,o=arguments;return new Promise((function(n,r){var a=e.apply(t,o);function l(e){Ae(a,n,r,l,c,"next",e)}function c(e){Ae(a,n,r,l,c,"throw",e)}l(void 0)}))}}function Ye(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function He(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(o),!0).forEach((function(t){We(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Ye(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function We(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const ze={setup:function(){var e=(0,h.oR)(),t=(0,n.inject)("emitter"),o=(0,n.inject)("container"),r=(0,n.ref)(null),a=((0,n.computed)((function(){return e.getters.getUsers})),(0,n.computed)((function(){return e.getters.getProfile})),He({},e.getters.getEmptyTest)),l=(0,n.reactive)(He({},a));function c(){return(c=qe(g().mark((function n(){var a;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.value.validate();case 3:return n.next=5,o.TestService.update(l);case 5:a=n.sent,e.commit("test/setTestById",a.data.model),t.emit("notification-success","test was updated"),document.getElementById("editTestFormClose").click(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),n.t0.response.data&&t.emit("notification-error",n.t0.response.data);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}function s(e){Object.keys(e).forEach((function(t){return l[t]=e[t]}))}return t.on("edit-test-form",s),(0,n.onBeforeUnmount)((function(){return t.off("edit-test-form",s)})),{test:l,testFields:r,updateTest:function(){return c.apply(this,arguments)}}},components:{TestFormFields:Oe},render:function(e,t,o,r,a,l){const c=(0,n.resolveComponent)("TestFormFields");return(0,n.openBlock)(),(0,n.createBlock)("div",Re,[(0,n.createVNode)("div",Me,[(0,n.createVNode)("form",Ie,[Le,(0,n.createVNode)("div",$e,[(0,n.createVNode)(c,{ref:"testFields",test:r.test},null,8,["test"])]),(0,n.createVNode)("div",Qe,[Ze,(0,n.createVNode)("button",{onClick:t[1]||(t[1]=(0,n.withModifiers)(((...e)=>r.updateTest(...e)),["prevent"])),type:"button",class:"btn btn-primary"},"Update")])])])])}},Ge={setup:function(){var e=(0,h.oR)(),t=0===Object.keys(e.getters.getUsers).length,o=0===Object.keys(e.getters.getCompanies).length,n=0===Object.keys(e.getters.getTests).length;t&&e.dispatch("user/setUsersToStore"),n&&e.dispatch("test/setTestsToStore"),o&&e.dispatch("company/setCompaniesToStore")},components:{TestsTable:P,StoreTestForm:_e,EditTestForm:ze},render:function(e,t,o,r,a,l){const c=(0,n.resolveComponent)("TestsTable"),s=(0,n.resolveComponent)("StoreTestForm"),i=(0,n.resolveComponent)("EditTestForm");return(0,n.openBlock)(),(0,n.createBlock)(n.Fragment,null,[(0,n.createVNode)(c),(0,n.createVNode)(s),(0,n.createVNode)(i)],64)}},Xe=Ge}}]);